df %>% arrange(Pclass)
#count by class
df %>% count(Pclass)
#determine what class appears most
df %>%
count(Pclass) %>%
arrange(-n)
#determine what class appears most for females
df %>%
filter(Sex == 'female') %>%
count(Pclass) %>%
arrange(-n)
#mean fare by class
df %>%
group_by(Pclass) %>%
summarise(mean_fare = mean(Fare))
#mean age by class for women
df %>%
filter(Sex == 'female') %>%
group_by(Pclass) %>%
summarise(mean_age = mean(Age, na.rm = TRUE))
# median fare by class for men in descending order
df %>%
filter(Sex == 'male') %>%
group_by(Pclass) %>%
summarise(median_fare = median(Fare, na.rm = TRUE)) %>%
arrange(-median_fare)
library(tidyverse)
df <- read_csv('https://bryantstats.github.io/math421/data/adult_census_missing.csv')
colSums(is.na(df))
colSums(is.na(df))
library(tidyverse)
df <- read_csv('https://bryantstats.github.io/math421/data/titanic_missing.csv')
df %>% summarise(mean_age=mean(Age, na.rm=TRUE))
df %>% ggplot(aes(x=Age, color=Sex))+
geom_density()
colSums(is.na(df))
colMeans(is.na(df))
colSums(df=='Missing', na.rm = TRUE)
df2 <- replace(df, df == 'Unknown' |
df == 'Missing' |
df == 'Not Available', NA)
df3 <- replace(df, df %in% c("Unknown", "Missing", "Not Available"), NA)
colSums(df3 == "Missing", na.rm = TRUE)
drop_na(df2)
drop_na(df2, Age, Sex)
df %>% select (-Age, -Sex)
df %>% fill(Age, Sex, Cabin, .direction = 'updown')
mean_age <- (df$Age, na.rm = TRUE)
mean_age <- (df$Age, na.rm = TRUE)
mean_age <- (df$Age, na.rm = TRUE)
mean_age <- mean(df$Age, na.rm = TRUE)
df$Age <- replace_na(df$Age, mean_age)
majority_sex names(which.max(table(df$Sex)))
majority_sex <- names(which.max(table(df$Sex)))
df$Sex <- replace_na(df$Sex, majority_sex)
majority_class <- names(which.max(table(df$Pclass)))
df$Pclass <- replace_na(df$Pclass, majority_class)
library(VIM)
install.packages('VIM')
library(VIM)
df <- read_csv('https://bryantstats.github.io/math421/data/titanic_missing.csv')
df <- replace(df, df == 'Unknown' |
df == 'Missing' |
df == 'Not Available', NA)
aggr(df)
install.packages('visdat')
library(visdat)
df <- read_csv('https://bryantstats.github.io/math421/data/titanic_missing.csv')
vis_miss(df
library(visdat)
df <- read_csv('https://bryantstats.github.io/math421/data/titanic_missing.csv')
vis_miss(df)
vis_dat(df)
vis_expect(df, ~.x == 'Missing')
vis_expect(df, function(x){x == 'Missing'|x=='Unknown'|
x=='Not Available'|is.na(x)})
library(tidyverse)
df <- read_csv('https://bryantstats.github.io/math421/data/adult_census_missing.csv')
colSums(is.na(df))
library(VIM)
aggr(df)
View(df)
colSums(is.na(df))
colSums(df == 'Missing', na.rm = TRUE)
table(df$age)
View(df)
table(df$age)
table(df$age)
table(df$age, useNA = "ifany")
table(df$workclass, useNA = "ifany")
table(df$workclass, useNA = "ifany")
table(df$fnlwgt, useNA = "ifany")
table(df$fnlwgt)
table(df$education)
table(df$education.num)
table(df$marital.status)
table(df$occupation)
table(df$relationship)
table(df$race)
table(df$sex)
table(df$capital.gain)
table(df$capital.loss)
table(df$hours.per.week)
table(df$native.country)
---
output: # rmarkdown::github_document
html_document:
theme: cerulean
table(df$income)
df <- replace (df, df == 'Not Known' |
df == 'Unknown' |
df == '?' |
df == 99999, NA)
library(VIM)
aggr(df)
df1 <- drop_na(df)
View(df1)
colSums(is.na(df))
library(tidyverse)
df <- read_csv('https://bryantstats.github.io/math421/data/adult_census_missing.csv')
colSums(is.na(df))
library(VIM)
aggr(df)
table(df$age, useNA = "ifany")
table(df$workclass, useNA = "ifany")
table(df$fnlwgt)
table(df$education)
table(df$education.num)
table(df$marital.status)
table(df$occupation)
table(df$relationship)
table(df$race)
table(df$sex)
table(df$capital.gain)
table(df$capital.loss)
table(df$hours.per.week)
table(df$native.country)
library(tidyverse)
df <- read_csv('https://bryantstats.github.io/math421/data/adult_census_missing.csv')
colSums(is.na(df))
library(VIM)
aggr(df)
table(df$age, useNA = "ifany")
table(df$workclass, useNA = "ifany")
table(df$fnlwgt)
table(df$education)
table(df$education.num)
table(df$marital.status)
table(df$occupation)
table(df$relationship)
table(df$race)
table(df$sex)
table(df$capital.gain)
table(df$capital.loss)
table(df$hours.per.week)
table(df$native.country)
table(df$income)
df <- replace (df, df == 'Not Known' |
df == 'Unknown' |
df == '?' |
df == 99999, NA)
colSums(is.na(df))
library(VIM)
aggr(df)
df1 <- drop_na(df)
df2 <- df %>%  fill(Age, workclass,education, marital.status, occupaiton, relationship, sex, capital.gain, native.country, .direction = 'updown')
View(df)
df2 <- df %>%  fill(age, workclass,education, marital.status, occupaiton, relationship, sex, capital.gain, native.country, .direction = 'updown')
df2 <- df
df2 %>%  fill(age, workclass,education, marital.status, occupaiton, relationship, sex, capital.gain, native.country, .direction = 'updown')
df2 %>%  fill(age, workclass,education, marital.status, occupation, relationship, sex, capital.gain, native.country, .direction = 'updown')
View(df)
df3 <- df
View(df3)
majority_workclass <- names(which.max(table(df$workclass)))
df$workclass <- replace_na(df$majority_workclass)
majority_workclass <- names(which.max(table(df$workclass)))
df$workclass <- replace_na(df$workclass, majority_workclass)
View(df3)
majority_workclass <- names(which.max(table(df$workclass)))
df$workclass <- replace_na(df$workclass, majority_workclass)
majority_workclass <- names(which.max(table(df$workclass)))
View(df)
View(df3)
majority_workclass <- names(which.max(table(df3$workclass)))
df3$workclass <- replace_na(df3$workclass, majority_workclass)
library(tidyverse)
df <- read_csv('https://bryantstats.github.io/math421/data/adult_census_missing.csv')
colSums(is.na(df))
library(VIM)
aggr(df)
table(df$age, useNA = "ifany")
table(df$workclass, useNA = "ifany")
table(df$fnlwgt)
table(df$education)
table(df$education.num)
table(df$marital.status)
table(df$occupation)
table(df$relationship)
table(df$race)
table(df$sex)
table(df$capital.gain)
table(df$capital.loss)
table(df$hours.per.week)
table(df$native.country)
table(df$income)
df <- replace (df, df == 'Not Known' |
df == 'Unknown' |
df == '?' |
df == 99999, NA)
colSums(is.na(df))
library(VIM)
aggr(df)
df1 <- drop_na(df)
df2 <- df
df2 %>%  fill(age, workclass,education, marital.status, occupation, relationship, sex, capital.gain, native.country, .direction = 'updown')
df3 <- df
median_age <- median(df3$age, na.rm = TRUE)
df3$age <- replace_na(df$Age, median_age)
median_age <- median(df3$age, na.rm = TRUE)
df3$age <- replace_na(df$age, median_age)
library(tidyverse)
df <- read_csv('https://bryantstats.github.io/math421/data/adult_census_missing.csv')
colSums(is.na(df))
library(VIM)
aggr(df)
table(df$age, useNA = "ifany")
table(df$workclass, useNA = "ifany")
table(df$fnlwgt)
table(df$education)
table(df$education.num)
table(df$marital.status)
table(df$occupation)
table(df$relationship)
table(df$race)
table(df$sex)
table(df$capital.gain)
table(df$capital.loss)
table(df$hours.per.week)
table(df$native.country)
table(df$income)
df <- replace (df, df == 'Not Known' |
df == 'Unknown' |
df == '?' |
df == 99999, NA)
colSums(is.na(df))
library(VIM)
aggr(df)
df1 <- drop_na(df)
df2 <- df
df2 %>%  fill(age, workclass,education, marital.status, occupation, relationship, sex, capital.gain, native.country, .direction = 'updown')
df3 <- df
median_age <- median(df3$age, na.rm = TRUE)
df3$age <- replace_na(df3$age, median_age)
majority_workclass <- names(which.max(table(df3$workclass)))
df3$workclass <- replace_na(df3$workclass, majority_workclass)
majority_workclass <- names(which.max(table(df3$workclass)))
df3$workclass <- replace_na(df3$workclass, majority_workclass)
colSums(is.na(df))
colSums(is.na(df))
majority_education <- names(which.max(table(df3$education)))
df3$education <- replace_na(df3$education, majority_education)
majority_marital.status <- names(which.max(table(df3$marital.status)))
df3$marital.status <- replace_na(df3$marital.status, majority_marital.status)
majority_occupation <- names(which.max(table(df3$occupation)))
df3$occupation <- replace_na(df3$occupation, majority_occupation)
majority_relationship <- names(which.max(table(df3$relationship)))
df3$relationship <- replace_na(df3$relationship, majority_relationship)
majority_relationship <- names(which.max(table(df3$relationship)))
df3$relationship <- replace_na(df3$relationship, majority_relationship)
majority_sex <- names(which.max(table(df3$sex)))
df3$sex <- replace_na(df3$sex, majority_sex)
median_capital.gain <- median(df3$capital.gain, na.rm = TRUE)
df3$capital.gain <- replace_na(df3$capital.gain, median_capital.gain)
majority_native.country <- names(which.max(table(df3$native.country)))
df3$native.country <- replace_na(df3$native.country, majority_native.country)
knitr::opts_chunk$set(message = FALSE)
library(readxl)
read_excel('C:\Users\student\Documents\M461-Statistical-Analysis-with-R')
read_excel('C:\\Users\\student\\Documents\\M461-Statistical-Analysis-with-R')
read_excel('"C:\Users\student\Documents\M461-Statistical-Analysis-with-R\c2015.xlsx"')
read_excel('"C:\\Users\\student\\Documents\\M461-Statistical-Analysis-with-R\\c2015.xlsx"')
read_excel('"C:\\Users\\student\\Documents\\M461-Statistical-Analysis-with-R\\c2015.xlsx"')
read_excel("C:\\Users\\student\\Documents\\M461-Statistical-Analysis-with-R\\c2015.xlsx")
df <- read_excel("C:\\Users\\student\\Documents\\M461-Statistical-Analysis-with-R\\c2015.xlsx")
library(readxl)
library(tidyverse)
colSums(is.na(df["Sex"]))
View(df)
colSums(is.na(df["SEX"]))
colMeans(is.na(df["SEX"]))
table(df$SEX, useNA = "ifany")
df$SEX <- replace(df$SEX, df$SEX == 'Unknown', NA)
majority_SEX <- names(which.max(table(df$SEX)))
df$SEX <- replace_na(df$SEX, majority_SEX)
table(df$SEX, useNA = "ifany")
colSums(is.na(df["AGE"]))
colMeans(is.na(df["SEX"]))
colMeans(is.na(df["SEX"]))
colMeans(is.na(df["AGE"]))
table(df$AGE, useNA = "ifany")
df$AGE <- replace(df$AGE, df$AGE == 'Unknown', NA)
df['AGE'] = df['AGE'].str.replace('Less than 1', '0')
df$AGE = df$AGE.str.replace('Less than 1', '0')
install.packages('stringr')
knitr::opts_chunk$set(message = FALSE)
library(stringr)
df$AGE <- str_replace(df$AGE, "Less than 1", "0")
table(df$AGE, useNA = "ifany")
class(df$AGE)
df$AGE <- as.numeric(df$AGE)
mean_AGE <- mean(df$AGE, na.rm = TRUE)
df$AGE <- replace_na(df$AGE, mean_AGE)
mean_AGE <- mean(df$AGE, na.rm = TRUE)
df$AGE <- replace_na(df$AGE, mean_AGE)
library(readxl)
library(tidyverse)
mean_AGE <- mean(df$AGE, na.rm = TRUE)
df$AGE <- replace_na(df$AGE, mean_AGE)
table(df$TRAV_SP, useNA = "ifany")
df$TRAV_SP <- str_remove(df$TRAV_SP, "MPH")
View(df)
library(dplyr)
df <- df %>% filter(TRAV_SP = "Greater")
library(dplyr)
df <- df %>% filter(TRAV_SP = ! "Greater")
library(dplyr)
df <- df %>% filter(TRAV_SP == "Greater")
View(df)
knitr::opts_chunk$set(message = FALSE)
library(readxl)
library(tidyverse)
df <- read_excel("C:\\Users\\student\\Documents\\M461-Statistical-Analysis-with-R\\c2015.xlsx")
colSums(is.na(df["SEX"]))
colMeans(is.na(df["SEX"]))
table(df$SEX, useNA = "ifany")
df$SEX <- replace(df$SEX, df$SEX == 'Unknown', NA)
majority_SEX <- names(which.max(table(df$SEX)))
df$SEX <- replace_na(df$SEX, majority_SEX)
table(df$SEX, useNA = "ifany")
colSums(is.na(df["AGE"]))
colMeans(is.na(df["AGE"]))
table(df$AGE, useNA = "ifany")
df$AGE <- replace(df$AGE, df$AGE == 'Unknown', NA)
library(stringr)
df$AGE <- str_replace(df$AGE, "Less than 1", "0")
table(df$AGE, useNA = "ifany")
class(df$AGE)
df$AGE <- as.numeric(df$AGE)
mean_AGE <- mean(df$AGE, na.rm = TRUE)
df$AGE <- replace_na(df$AGE, mean_AGE)
table(df$TRAV_SP, useNA = "ifany")
df$TRAV_SP <- str_remove(df$TRAV_SP, "MPH")
df$TRAV_SP <- str_replace(df$TRAV_SP, "Stopped", "0")
knitr::opts_chunk$set(message = FALSE)
library(readxl)
library(tidyverse)
df <- read_excel("C:\\Users\\student\\Documents\\M461-Statistical-Analysis-with-R\\c2015.xlsx")
colSums(is.na(df["SEX"]))
colMeans(is.na(df["SEX"]))
table(df$SEX, useNA = "ifany")
df$SEX <- replace(df$SEX, df$SEX == 'Unknown', NA)
table(df$SEX, useNA = "ifany")
colMeans(is.na(df["SEX"]))
table(df$SEX, useNA = "ifany")
df$SEX <- replace(df$SEX, df$SEX == 'Unknown', NA)
majority_SEX <- names(which.max(table(df$SEX)))
df$SEX <- replace_na(df$SEX, majority_SEX)
table(df$SEX, useNA = "ifany")
colSums(is.na(df["AGE"]))
colMeans(is.na(df["AGE"]))
table(df$AGE, useNA = "ifany")
df$AGE <- replace(df$AGE, df$AGE == 'Unknown', NA)
knitr::opts_chunk$set(message = FALSE)
library(readxl)
library(tidyverse)
df <- read_excel("C:\\Users\\student\\Documents\\M461-Statistical-Analysis-with-R\\c2015.xlsx")
colSums(is.na(df["SEX"]))
colMeans(is.na(df["SEX"]))
table(df$SEX, useNA = "ifany")
df$SEX <- replace(df$SEX, df$SEX == 'Unknown', NA)
majority_SEX <- names(which.max(table(df$SEX)))
df$SEX <- replace_na(df$SEX, majority_SEX)
table(df$SEX, useNA = "ifany")
colSums(is.na(df["AGE"]))
colMeans(is.na(df["AGE"]))
table(df$AGE, useNA = "ifany")
df$AGE <- replace(df$AGE, df$AGE == 'Unknown', NA)
library(stringr)
df$AGE <- str_replace(df$AGE, "Less than 1", "0")
table(df$AGE, useNA = "ifany")
df$AGE <- replace(df$AGE, df$AGE == 'Unknown', NA)
knitr::opts_chunk$set(message = FALSE)
library(readxl)
library(tidyverse)
df <- read_excel("C:\\Users\\student\\Documents\\M461-Statistical-Analysis-with-R\\c2015.xlsx")
colSums(is.na(df["SEX"]))
colMeans(is.na(df["SEX"]))
table(df$SEX, useNA = "ifany")
df$SEX <- replace(df$SEX, df$SEX == 'Unknown', NA)
majority_SEX <- names(which.max(table(df$SEX)))
df$SEX <- replace_na(df$SEX, majority_SEX)
table(df$SEX, useNA = "ifany")
colSums(is.na(df["AGE"]))
colMeans(is.na(df["AGE"]))
table(df$AGE, useNA = "ifany")
df$AGE <- replace(df$AGE, df$AGE == 'Unknown', NA)
library(stringr)
df$AGE <- str_replace(df$AGE, "Less than 1", "0")
table(df$AGE, useNA = "ifany")
class(df$AGE)
df$AGE <- as.numeric(df$AGE)
mean_AGE <- mean(df$AGE, na.rm = TRUE)
df$AGE <- replace_na(df$AGE, mean_AGE)
table(df$TRAV_SP, useNA = "ifany")
df$TRAV_SP <- str_remove(df$TRAV_SP, "MPH")
df <- df[df$TRAV_SP ! = "Greater",]
df <- df[df$TRAV_SP != "Greater",]
df$TRAV_SP <- str_replace(df$TRAV_SP, "Stopped", "0")
df$TRAV_SP <- na_if(df$TRAV_SP, "Not Rep")
df$TRAV_SP <- na_if(df$TRAV_SP, "Unknown")
class(df$TRAV_SP)
df$TRAV_SP <- as.numeric(df$TRAV_SP)
library(tidyr)
median_trav_sp <- median(df$TRAV_SP, na.rm = TRUE)
df$TRAV_SP <- replace_na(df$TRAV_SP, median_trav_sp)
correlation <- df %>%
filter(SEAT_POS == 1) %>%
summarize(correlation = cor(Age, TRAV_SP, use = "complete.obs")) %>%
pull(correlation)
correlation <- df %>%
filter(SEAT_POS == 1) %>%
summarize(correlation = cor(AGE, TRAV_SP, use = "complete.obs")) %>%
pull(correlation)
View(df)
correlation <- df %>%
filter(SEAT_POS == 1) %>%
na.omit() %>%
summarize(correlation = cor(AGE, TRAV_SP) %>%
pull(correlation)
correlation
correlation <- df %>%
filter(SEAT_POS == 1) %>%
na.omit() %>%
summarize(correlation = cor(AGE, TRAV_SP) %>%
pull(correlation)
correlation
correlation <- df %>%
filter(SEAT_POS == 1) %>%
na.omit() %>%
summarize(correlation = cor(AGE, TRAV_SP)
pull(correlation)
correlation <- df %>%
filter(SEAT_POS == 1) %>%
na.omit() %>%
summarize(correlation = cor(AGE, TRAV_SP)
pull(correlation)
correlation <- df %>%
filter(SEAT_POS == 1) %>%
na.omit() %>%
summarize(correlation = cor(AGE, TRAV_SP)
correlation
library(dplyr)
# Remove rows with any NA values and calculate the correlation
correlation <- df %>%
filter(SEAT_POS == 1) %>%  # Filter for drivers (assuming SEAT_POS == 1 represents the driver)
na.omit() %>%              # Remove rows with any NA values
summarize(correlation = cor(AGE, TRAV_SP, use = "complete.obs")) %>%  # Calculate correlation
pull(correlation)          # Extract the result
df %>%
na.omit() %>%
filter(SEAT_POS == 1) %>%
summarize(correlation = cor(AGE, TRAV_SP)
Age_trav_sp_cor <-df %>%
na.omit() %>%
filter(SEAT_POS == 1) %>%
summarize(correlation = cor(AGE, TRAV_SP)
Age_trav_sp_cor <-df %>%
na.omit() %>%
filter(SEAT_POS == 1) %>%
summarize(correlation = cor(AGE, TRAV_SP)
Age_trav_sp_cor <- df %>%
na.omit() %>%
filter(SEAT_POS == 1) %>%
summarize(correlation = cor(AGE, TRAV_SP)
Age_trav_sp_cor <- df %>%
filter(SEAT_POS ==1) %>%
select(AGE, TRAV_SP) %>%
na,omit() %>%
Age_trav_sp_cor <- df %>%
filter(SEAT_POS ==1) %>%
select(AGE, TRAV_SP) %>%
na.omit() %>%
cor()
print(Age_trav_sp_cor)
Age_trav_sp_cor <- df %>%
filter(SEAT_POS ==1) %>%
select(AGE, TRAV_SP) %>%
na.omit()
print(Age_trav_sp_cor)
Age_trav_sp_cor <- df %>%
filter(SEAT_POS == "Front Seat, Left Side") %>%
select(AGE, TRAV_SP) %>%
na.omit()
print(Age_trav_sp_cor)
Age_trav_sp_cor <- df %>%
filter(SEAT_POS == "Front Seat, Left Side") %>%
select(AGE, TRAV_SP) %>%
na.omit() %>%
cor()
print(Age_trav_sp_cor)
