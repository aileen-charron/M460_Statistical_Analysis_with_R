#count by class
df %>% count(Pclass)
#determine what class appears most
df %>%
count(Pclass) %>%
arrange(-n)
#determine what class appears most for females
df %>%
filter(Sex == 'female') %>%
count(Pclass) %>%
arrange(-n)
#mean fare by class
df %>%
group_by(Pclass) %>%
summarise(mean_fare = mean(Fare))
#mean age by class for women
df %>%
filter(Sex == 'Female') %>%
group_by(Pclass)
summarise(mean_age = mean(Age, na.rm = TRUE))
#mean age by class for women
df %>%
filter(Sex == 'Female') %>%
group_by(Pclass) %>%
summarise(mean_age = mean(Age, na.rm = TRUE))
#mean age by class for women
df %>%
filter(Sex == 'female') %>%
group_by(Pclass) %>%
summarise(mean_age = mean(Age, na.rm = TRUE))
# median fare by class for men in descending order
df %>%
filter(Sex == 'male') %>%
group_by(Pclass) %>%
summarise(median_fare = median(Fare, na.rm = TRUE))
# median fare by class for men in descending order
df %>%
filter(Sex == 'male') %>%
group_by(Pclass) %>%
summarise(median_fare = median(Fare, na.rm = TRUE)) %>%
arrange(-median_fare)
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df <- read_csv('https://covidtracking.com/data/download/all-states-history.csv')
library(lubridate)
df$month = month(df$date)
# day of the week
df$weekday = wday(df$date)
# day of the month
df$monthday <- mday(df$date)
df$daily_death <- case_when(
df$deathIncrease <3 ~ 'low',
df$deathIncrease <=14 ~ 'medium',
df$deathIncrease > 14 ~ 'high',
TRUE ~ 'high'
)
df$month2 <- case_when(
df$month <=10 ~ 'early_month',
df$month <=20 ~ 'mid_month',
df$month >20 ~ 'end_month',
TRUE~'end_month'
)
df$weekend <- case_when(
df$weekday == 6 ~ '1',
df$weekday == 7 ~ '1',
TRUE ~ '0'
)
df %>%  select(-totalTestsViral)
x <- c(1:10)
# square root of x
sqrt(x)
sum(sqrt(x))
log(sum(sqrt(x)))
# log base 2 of 16
log(16, 2)
x <- c(1:10)
x %>% sqrt %>% sum %>% log
df %>%
group_by(weekday) %>%
summarise(mean(positiveIncrease))
df %>%
group_by(month) %>%
summarise(median(positiveIncrease))
df %>% group_by(month2) %>%
summarise(mean(positiveIncrease))
df %>% group_by(weekend) %>%
summarise(median(positiveIncrease))
df %>%
filter(month==1|month==2) %>%
group_by(month) %>%
summarise(positve_increase = mean(positiveIncrease))
df$year <- year(df$date)
df %>%
filter(year == 2020) %>%
filter(month == 10 | month ==11) %>%
group_by(weekend) %>%
summarise(positive_increase = median(positiveIncrease))
df %>%
filter(year == 2020) %>%
filter(month == 9| month == 10| month ==11) %>%
group_by(month2) %>%
summarise(positive_increase = mean(positiveIncrease))
df %>%
filter(year == 2020) %>%
filter(month == 6 | month ==7| month ==8) %>%
group_by(weekend) %>%
summarise(hospitalizations = mean(hospitalizedIncrease))
df <- read_csv('https://bryantstats.github.io/math421/data/us-states.csv')
df$month = month(df$date)
# day of the week
df$weekday = wday(df$date)
# day of the month
df$monthday <- mday(df$date)
df$year <- year(df$date)
df %>%
filter(year == 2021) %>%
filter( state == 'Rhode Island') %>%
group_by(weekday) %>%
summarise(cases = median(cases))
df %>%
filter(year == 2021) %>%
filter(state == 'Rhode Island') %>%
filter(month == 6 | month == 7| month == 8| month ==9) %>%
group_by(month) %>%
summarise(median_cases = median(cases))
df %>%
filter(year == 2021) %>%
filter(state == 'Rhode Island') %>%
filter(month == 6 | month == 7| month == 8| month ==9) %>%
group_by(month) %>%
summarise(median_cases = median(cases))
View(df)
df %>%
filter(weekday == 6|weekday ==7) %>%
group_by(weekday) %>%
summarise(death_count = count(deaths)) %>%
arrange(-death_count)
df %>%
filter(weekday == 6|weekday ==7) %>%
group_by(month) %>%
summarise(death_count = count(deaths)) %>%
arrange(-death_count)
df %>%
filter(weekday == 6|weekday ==7) %>%
group_by(month) %>%
summarise(death_count = sum(deaths)) %>%
arrange(-death_count)
df <- read_csv('https://bryantstats.github.io/math421/data/titanic.csv')
#remove cabin
df %>%  select(-Cabin)
#filter by females who survived
df %>%  filter(Sex == 'female', Survived == 1)
#crate a column that has a 1 if first class and a 0 if not
df <- df %>% mutate(first_class = ifelse(Pclass == 1, 1, 0) )
#summarise median fare
df %>%  summarise (median_fare = median(Fare, na.rm = TRUE))
#arrange by class
df %>% arrange(Pclass)
#count by class
df %>% count(Pclass)
#determine what class appears most
df %>%
count(Pclass) %>%
arrange(-n)
#determine what class appears most for females
df %>%
filter(Sex == 'female') %>%
count(Pclass) %>%
arrange(-n)
#mean fare by class
df %>%
group_by(Pclass) %>%
summarise(mean_fare = mean(Fare))
#mean age by class for women
df %>%
filter(Sex == 'female') %>%
group_by(Pclass) %>%
summarise(mean_age = mean(Age, na.rm = TRUE))
# median fare by class for men in descending order
df %>%
filter(Sex == 'male') %>%
group_by(Pclass) %>%
summarise(median_fare = median(Fare, na.rm = TRUE)) %>%
arrange(-median_fare)
library(tidyverse)
df <- read_csv('https://bryantstats.github.io/math421/data/adult_census_missing.csv')
colSums(is.na(df))
colSums(is.na(df))
library(tidyverse)
df <- read_csv('https://bryantstats.github.io/math421/data/titanic_missing.csv')
df %>% summarise(mean_age=mean(Age, na.rm=TRUE))
df %>% ggplot(aes(x=Age, color=Sex))+
geom_density()
colSums(is.na(df))
colMeans(is.na(df))
colSums(df=='Missing', na.rm = TRUE)
df2 <- replace(df, df == 'Unknown' |
df == 'Missing' |
df == 'Not Available', NA)
df3 <- replace(df, df %in% c("Unknown", "Missing", "Not Available"), NA)
colSums(df3 == "Missing", na.rm = TRUE)
drop_na(df2)
drop_na(df2, Age, Sex)
df %>% select (-Age, -Sex)
df %>% fill(Age, Sex, Cabin, .direction = 'updown')
mean_age <- (df$Age, na.rm = TRUE)
mean_age <- (df$Age, na.rm = TRUE)
mean_age <- (df$Age, na.rm = TRUE)
mean_age <- mean(df$Age, na.rm = TRUE)
df$Age <- replace_na(df$Age, mean_age)
majority_sex names(which.max(table(df$Sex)))
majority_sex <- names(which.max(table(df$Sex)))
df$Sex <- replace_na(df$Sex, majority_sex)
majority_class <- names(which.max(table(df$Pclass)))
df$Pclass <- replace_na(df$Pclass, majority_class)
library(VIM)
install.packages('VIM')
library(VIM)
df <- read_csv('https://bryantstats.github.io/math421/data/titanic_missing.csv')
df <- replace(df, df == 'Unknown' |
df == 'Missing' |
df == 'Not Available', NA)
aggr(df)
install.packages('visdat')
library(visdat)
df <- read_csv('https://bryantstats.github.io/math421/data/titanic_missing.csv')
vis_miss(df
library(visdat)
df <- read_csv('https://bryantstats.github.io/math421/data/titanic_missing.csv')
vis_miss(df)
vis_dat(df)
vis_expect(df, ~.x == 'Missing')
vis_expect(df, function(x){x == 'Missing'|x=='Unknown'|
x=='Not Available'|is.na(x)})
library(tidyverse)
df <- read_csv('https://bryantstats.github.io/math421/data/adult_census_missing.csv')
colSums(is.na(df))
library(VIM)
aggr(df)
View(df)
colSums(is.na(df))
colSums(df == 'Missing', na.rm = TRUE)
table(df$age)
View(df)
table(df$age)
table(df$age)
table(df$age, useNA = "ifany")
table(df$workclass, useNA = "ifany")
table(df$workclass, useNA = "ifany")
table(df$fnlwgt, useNA = "ifany")
table(df$fnlwgt)
table(df$education)
table(df$education.num)
table(df$marital.status)
table(df$occupation)
table(df$relationship)
table(df$race)
table(df$sex)
table(df$capital.gain)
table(df$capital.loss)
table(df$hours.per.week)
table(df$native.country)
---
output: # rmarkdown::github_document
html_document:
theme: cerulean
table(df$income)
df <- replace (df, df == 'Not Known' |
df == 'Unknown' |
df == '?' |
df == 99999, NA)
library(VIM)
aggr(df)
df1 <- drop_na(df)
View(df1)
colSums(is.na(df))
library(tidyverse)
df <- read_csv('https://bryantstats.github.io/math421/data/adult_census_missing.csv')
colSums(is.na(df))
library(VIM)
aggr(df)
table(df$age, useNA = "ifany")
table(df$workclass, useNA = "ifany")
table(df$fnlwgt)
table(df$education)
table(df$education.num)
table(df$marital.status)
table(df$occupation)
table(df$relationship)
table(df$race)
table(df$sex)
table(df$capital.gain)
table(df$capital.loss)
table(df$hours.per.week)
table(df$native.country)
library(tidyverse)
df <- read_csv('https://bryantstats.github.io/math421/data/adult_census_missing.csv')
colSums(is.na(df))
library(VIM)
aggr(df)
table(df$age, useNA = "ifany")
table(df$workclass, useNA = "ifany")
table(df$fnlwgt)
table(df$education)
table(df$education.num)
table(df$marital.status)
table(df$occupation)
table(df$relationship)
table(df$race)
table(df$sex)
table(df$capital.gain)
table(df$capital.loss)
table(df$hours.per.week)
table(df$native.country)
table(df$income)
df <- replace (df, df == 'Not Known' |
df == 'Unknown' |
df == '?' |
df == 99999, NA)
colSums(is.na(df))
library(VIM)
aggr(df)
df1 <- drop_na(df)
df2 <- df %>%  fill(Age, workclass,education, marital.status, occupaiton, relationship, sex, capital.gain, native.country, .direction = 'updown')
View(df)
df2 <- df %>%  fill(age, workclass,education, marital.status, occupaiton, relationship, sex, capital.gain, native.country, .direction = 'updown')
df2 <- df
df2 %>%  fill(age, workclass,education, marital.status, occupaiton, relationship, sex, capital.gain, native.country, .direction = 'updown')
df2 %>%  fill(age, workclass,education, marital.status, occupation, relationship, sex, capital.gain, native.country, .direction = 'updown')
View(df)
df3 <- df
View(df3)
majority_workclass <- names(which.max(table(df$workclass)))
df$workclass <- replace_na(df$majority_workclass)
majority_workclass <- names(which.max(table(df$workclass)))
df$workclass <- replace_na(df$workclass, majority_workclass)
View(df3)
majority_workclass <- names(which.max(table(df$workclass)))
df$workclass <- replace_na(df$workclass, majority_workclass)
majority_workclass <- names(which.max(table(df$workclass)))
View(df)
View(df3)
majority_workclass <- names(which.max(table(df3$workclass)))
df3$workclass <- replace_na(df3$workclass, majority_workclass)
library(tidyverse)
df <- read_csv('https://bryantstats.github.io/math421/data/adult_census_missing.csv')
colSums(is.na(df))
library(VIM)
aggr(df)
table(df$age, useNA = "ifany")
table(df$workclass, useNA = "ifany")
table(df$fnlwgt)
table(df$education)
table(df$education.num)
table(df$marital.status)
table(df$occupation)
table(df$relationship)
table(df$race)
table(df$sex)
table(df$capital.gain)
table(df$capital.loss)
table(df$hours.per.week)
table(df$native.country)
table(df$income)
df <- replace (df, df == 'Not Known' |
df == 'Unknown' |
df == '?' |
df == 99999, NA)
colSums(is.na(df))
library(VIM)
aggr(df)
df1 <- drop_na(df)
df2 <- df
df2 %>%  fill(age, workclass,education, marital.status, occupation, relationship, sex, capital.gain, native.country, .direction = 'updown')
df3 <- df
median_age <- median(df3$age, na.rm = TRUE)
df3$age <- replace_na(df$Age, median_age)
median_age <- median(df3$age, na.rm = TRUE)
df3$age <- replace_na(df$age, median_age)
library(tidyverse)
df <- read_csv('https://bryantstats.github.io/math421/data/adult_census_missing.csv')
colSums(is.na(df))
library(VIM)
aggr(df)
table(df$age, useNA = "ifany")
table(df$workclass, useNA = "ifany")
table(df$fnlwgt)
table(df$education)
table(df$education.num)
table(df$marital.status)
table(df$occupation)
table(df$relationship)
table(df$race)
table(df$sex)
table(df$capital.gain)
table(df$capital.loss)
table(df$hours.per.week)
table(df$native.country)
table(df$income)
df <- replace (df, df == 'Not Known' |
df == 'Unknown' |
df == '?' |
df == 99999, NA)
colSums(is.na(df))
library(VIM)
aggr(df)
df1 <- drop_na(df)
df2 <- df
df2 %>%  fill(age, workclass,education, marital.status, occupation, relationship, sex, capital.gain, native.country, .direction = 'updown')
df3 <- df
median_age <- median(df3$age, na.rm = TRUE)
df3$age <- replace_na(df3$age, median_age)
majority_workclass <- names(which.max(table(df3$workclass)))
df3$workclass <- replace_na(df3$workclass, majority_workclass)
majority_workclass <- names(which.max(table(df3$workclass)))
df3$workclass <- replace_na(df3$workclass, majority_workclass)
colSums(is.na(df))
colSums(is.na(df))
majority_education <- names(which.max(table(df3$education)))
df3$education <- replace_na(df3$education, majority_education)
majority_marital.status <- names(which.max(table(df3$marital.status)))
df3$marital.status <- replace_na(df3$marital.status, majority_marital.status)
majority_occupation <- names(which.max(table(df3$occupation)))
df3$occupation <- replace_na(df3$occupation, majority_occupation)
majority_relationship <- names(which.max(table(df3$relationship)))
df3$relationship <- replace_na(df3$relationship, majority_relationship)
majority_relationship <- names(which.max(table(df3$relationship)))
df3$relationship <- replace_na(df3$relationship, majority_relationship)
majority_sex <- names(which.max(table(df3$sex)))
df3$sex <- replace_na(df3$sex, majority_sex)
median_capital.gain <- median(df3$capital.gain, na.rm = TRUE)
df3$capital.gain <- replace_na(df3$capital.gain, median_capital.gain)
majority_native.country <- names(which.max(table(df3$native.country)))
df3$native.country <- replace_na(df3$native.country, majority_native.country)
knitr::opts_chunk$set(message = FALSE)
library(readxl)
read_excel('C:\Users\student\Documents\M461-Statistical-Analysis-with-R')
read_excel('C:\\Users\\student\\Documents\\M461-Statistical-Analysis-with-R')
read_excel('"C:\Users\student\Documents\M461-Statistical-Analysis-with-R\c2015.xlsx"')
read_excel('"C:\\Users\\student\\Documents\\M461-Statistical-Analysis-with-R\\c2015.xlsx"')
read_excel('"C:\\Users\\student\\Documents\\M461-Statistical-Analysis-with-R\\c2015.xlsx"')
read_excel("C:\\Users\\student\\Documents\\M461-Statistical-Analysis-with-R\\c2015.xlsx")
df <- read_excel("C:\\Users\\student\\Documents\\M461-Statistical-Analysis-with-R\\c2015.xlsx")
library(readxl)
library(tidyverse)
colSums(is.na(df["Sex"]))
View(df)
colSums(is.na(df["SEX"]))
colMeans(is.na(df["SEX"]))
table(df$SEX, useNA = "ifany")
df$SEX <- replace(df$SEX, df$SEX == 'Unknown', NA)
majority_SEX <- names(which.max(table(df$SEX)))
df$SEX <- replace_na(df$SEX, majority_SEX)
table(df$SEX, useNA = "ifany")
colSums(is.na(df["AGE"]))
colMeans(is.na(df["SEX"]))
colMeans(is.na(df["SEX"]))
colMeans(is.na(df["AGE"]))
table(df$AGE, useNA = "ifany")
df$AGE <- replace(df$AGE, df$AGE == 'Unknown', NA)
df['AGE'] = df['AGE'].str.replace('Less than 1', '0')
df$AGE = df$AGE.str.replace('Less than 1', '0')
install.packages('stringr')
knitr::opts_chunk$set(message = FALSE)
library(stringr)
df$AGE <- str_replace(df$AGE, "Less than 1", "0")
table(df$AGE, useNA = "ifany")
class(df$AGE)
df$AGE <- as.numeric(df$AGE)
mean_AGE <- mean(df$AGE, na.rm = TRUE)
df$AGE <- replace_na(df$AGE, mean_AGE)
mean_AGE <- mean(df$AGE, na.rm = TRUE)
df$AGE <- replace_na(df$AGE, mean_AGE)
library(readxl)
library(tidyverse)
mean_AGE <- mean(df$AGE, na.rm = TRUE)
df$AGE <- replace_na(df$AGE, mean_AGE)
table(df$TRAV_SP, useNA = "ifany")
df$TRAV_SP <- str_remove(df$TRAV_SP, "MPH")
View(df)
library(dplyr)
df <- df %>% filter(TRAV_SP = "Greater")
library(dplyr)
df <- df %>% filter(TRAV_SP = ! "Greater")
library(dplyr)
df <- df %>% filter(TRAV_SP == "Greater")
View(df)
knitr::opts_chunk$set(message = FALSE)
library(readxl)
library(tidyverse)
df <- read_excel("C:\\Users\\student\\Documents\\M461-Statistical-Analysis-with-R\\c2015.xlsx")
colSums(is.na(df["SEX"]))
colMeans(is.na(df["SEX"]))
table(df$SEX, useNA = "ifany")
df$SEX <- replace(df$SEX, df$SEX == 'Unknown', NA)
majority_SEX <- names(which.max(table(df$SEX)))
df$SEX <- replace_na(df$SEX, majority_SEX)
table(df$SEX, useNA = "ifany")
colSums(is.na(df["AGE"]))
colMeans(is.na(df["AGE"]))
table(df$AGE, useNA = "ifany")
df$AGE <- replace(df$AGE, df$AGE == 'Unknown', NA)
library(stringr)
df$AGE <- str_replace(df$AGE, "Less than 1", "0")
table(df$AGE, useNA = "ifany")
class(df$AGE)
df$AGE <- as.numeric(df$AGE)
mean_AGE <- mean(df$AGE, na.rm = TRUE)
df$AGE <- replace_na(df$AGE, mean_AGE)
table(df$TRAV_SP, useNA = "ifany")
df$TRAV_SP <- str_remove(df$TRAV_SP, "MPH")
df$TRAV_SP <- str_replace(df$TRAV_SP, "Stopped", "0")
